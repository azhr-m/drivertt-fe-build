(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"5X0B":function(t,n,e){"use strict";e.r(n),e.d(n,"ScoreModule",(function(){return C}));var i=e("ofXK"),o=e("PCNd"),s=e("tyNb"),a=e("SxV6"),c=e("lJxs"),r=e("fXoL"),l=e("lV75"),u=e("x6JD"),d=e("tk/3");let b=(()=>{class t{constructor(t){this.http=t}get url(){return l.a.baseUrl}getScores(t){let n=this.url+"questionnaire";return t&&(n+=u.a.getOptionsQuery(t)),this.http.get(n)}getScore(t,n){let e=`${this.url}questionnaire/${t}`;return n&&(e+=u.a.getOptionsQuery(n)),this.http.get(e).pipe(Object(c.a)(t=>t.data))}}return t.\u0275fac=function(n){return new(n||t)(r.Ub(d.b))},t.\u0275prov=r.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var p=e("/JoM"),g=e("aF9I"),h=e("+x79"),v=e("0IaG"),f=e("5rUV");function P(t,n){1&t&&(r.Qb(0,"h3",5),r.Mb(1,"i",6),r.Ac(2," \u0422\u0435\u0441\u0442 \u043f\u0440\u043e\u0439\u0434\u0435\u043d"),r.Pb())}function m(t,n){1&t&&(r.Qb(0,"h3",7),r.Mb(1,"i",8),r.Ac(2," \u0422\u0435\u0441\u0442 \u043d\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d"),r.Pb())}function y(t,n){if(1&t&&r.Mb(0,"app-question",10),2&t){const t=r.bc(),n=t.index;r.hc("question",t.$implicit)("isResults",!0)("questionNumber",n+1)}}function Q(t,n){if(1&t&&(r.Qb(0,"div"),r.yc(1,y,1,3,"app-question",9),r.Pb()),2&t){const t=n.$implicit;r.zb(1),r.hc("ngIf",null!==t.isPassed)}}let S=(()=>{class t{constructor(t,n){this.dialogData=t,this.scoreService=n,this.options={include:["questionnaireQuestions.question.questionAnswers","questionnaireQuestions.question.image"]}}ngOnInit(){this.scoreService.getScore(this.dialogData.scoreId,this.options).pipe(Object(a.a)()).subscribe(t=>{var n,e;const i=t.questionnaireQuestions.data.map(t=>{var n,e,i,o,s,a,c,r,l,u,d,b;return{questionId:null==t?void 0:t.id,imageUrl:(null===(o=null===(i=null===(e=null===(n=null==t?void 0:t.question)||void 0===n?void 0:n.data)||void 0===e?void 0:e.image)||void 0===i?void 0:i.data)||void 0===o?void 0:o.url)||null,content:(null===(a=null===(s=null==t?void 0:t.question)||void 0===s?void 0:s.data)||void 0===a?void 0:a.content)||null,explanation:(null===(r=null===(c=null==t?void 0:t.question)||void 0===c?void 0:c.data)||void 0===r?void 0:r.explanation)||null,answers:(null===(u=null===(l=null==t?void 0:t.question)||void 0===l?void 0:l.data)||void 0===u?void 0:u.questionAnswers.data)||null,isPassed:null==t?void 0:t.is_passed,selectedAnswerId:null==t?void 0:t.question_answer_id,rightAnswerId:null===(b=null===(d=null==t?void 0:t.question)||void 0===d?void 0:d.data)||void 0===b?void 0:b.questionAnswers.data.find(t=>t.is_true).id}});this.score={isPassed:null==t?void 0:t.is_passed,usedTime:null==t?void 0:t.used_time,category:null===(e=null===(n=null==t?void 0:t.category)||void 0===n?void 0:n.data)||void 0===e?void 0:e.name,questions:i}})}}return t.\u0275fac=function(n){return new(n||t)(r.Lb(v.a),r.Lb(b))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-score"]],decls:11,vars:4,consts:[[1,"score-header"],["class","passed",4,"ngIf"],["class","failed",4,"ngIf"],[1,"score-body"],[4,"ngFor","ngForOf"],[1,"passed"],[1,"bx","bxs-badge-check"],[1,"failed"],[1,"bx","bxs-x-circle"],[3,"question","isResults","questionNumber",4,"ngIf"],[3,"question","isResults","questionNumber"]],template:function(t,n){1&t&&(r.Qb(0,"div",0),r.yc(1,P,3,0,"h3",1),r.yc(2,m,3,0,"h3",2),r.Mb(3,"hr"),r.Qb(4,"h3"),r.Ac(5),r.Pb(),r.Mb(6,"hr"),r.Pb(),r.Qb(7,"div",3),r.Qb(8,"h3"),r.Ac(9,"\u0412\u043e\u043f\u0440\u043e\u0441\u044b:"),r.Pb(),r.yc(10,Q,2,1,"div",4),r.Pb()),2&t&&(r.zb(1),r.hc("ngIf",null==n.score?null:n.score.isPassed),r.zb(1),r.hc("ngIf",!(null!=n.score&&n.score.isPassed)),r.zb(3),r.Cc("\u0412\u0440\u0435\u043c\u044f: ",null==n.score?null:n.score.usedTime,""),r.zb(5),r.hc("ngForOf",null==n.score?null:n.score.questions))},directives:[i.l,i.k,f.a],styles:[".passed[_ngcontent-%COMP%]{color:green}.failed[_ngcontent-%COMP%]{color:red}.score-body[_ngcontent-%COMP%]{padding:10px}"]}),t})();var O=e("M9IT"),q=e("uomD");function w(t,n){if(1&t){const t=r.Rb();r.Qb(0,"tr"),r.Qb(1,"td"),r.Ac(2),r.Pb(),r.Qb(3,"td"),r.Ac(4),r.Pb(),r.Qb(5,"td"),r.Ac(6),r.cc(7,"date"),r.cc(8,"date"),r.Pb(),r.Qb(9,"td"),r.Ac(10),r.cc(11,"secondsToMinutes"),r.Pb(),r.Qb(12,"td"),r.Ac(13),r.Pb(),r.Qb(14,"td"),r.Qb(15,"i",3),r.Xb("click",(function(){r.pc(t);const e=n.$implicit;return r.bc().openScoreDialog(e.id)})),r.Pb(),r.Pb(),r.Pb()}if(2&t){const t=n.$implicit,e=n.index;r.zb(2),r.Bc(e+1),r.zb(2),r.Bc(null==t||null==t.category||null==t.category.data?null:t.category.data.name),r.zb(2),r.Dc("",r.ec(7,6,null==t?null:t.created_at,"dd.MM.yyyy")," \u0432 ",r.ec(8,9,null==t?null:t.created_at,"HH:mm"),""),r.zb(4),r.Bc(r.dc(11,12,t.used_time)),r.zb(3),r.Bc(null!=t&&t.is_passed?"\u041f\u0440\u043e\u0439\u0434\u0435\u0442":"\u041d\u0435 \u043f\u0440\u043e\u0439\u0434\u0435\u043d")}}const I=function(){return[5,10,25,100]};let M=(()=>{class t{constructor(t){this.dialog=t,this.changePagination=new r.n}openScoreDialog(t){this.dialog.open(S,{width:"60rem",data:{scoreId:t}})}changePage(t){this.changePagination.emit({page:t.pageIndex+1,perPage:t.pageSize})}}return t.\u0275fac=function(n){return new(n||t)(r.Lb(v.b))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-score-list"]],inputs:{scores:"scores",pagination:"pagination"},outputs:{changePagination:"changePagination"},decls:19,vars:5,consts:[[1,"body","overflow-auto"],[4,"ngFor","ngForOf"],["aria-label","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",3,"length","pageSize","pageSizeOptions","page"],[1,"bx","bxs-show",3,"click"]],template:function(t,n){1&t&&(r.Qb(0,"div",0),r.Qb(1,"table"),r.Qb(2,"thead"),r.Qb(3,"tr"),r.Qb(4,"th"),r.Ac(5,"No"),r.Pb(),r.Qb(6,"th"),r.Ac(7,"\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f"),r.Pb(),r.Qb(8,"th"),r.Ac(9,"\u0414\u0430\u0442\u0430"),r.Pb(),r.Qb(10,"th"),r.Ac(11,"\u0412\u0440\u0435\u043c\u044f \u043d\u0430 \u0442\u0435\u0441\u0442"),r.Pb(),r.Qb(12,"th"),r.Ac(13,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"),r.Pb(),r.Qb(14,"th"),r.Ac(15,"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f"),r.Pb(),r.Pb(),r.Pb(),r.Qb(16,"tbody"),r.yc(17,w,16,14,"tr",1),r.Pb(),r.Pb(),r.Qb(18,"mat-paginator",2),r.Xb("page",(function(t){return n.changePage(t)})),r.Pb(),r.Pb()),2&t&&(r.zb(17),r.hc("ngForOf",n.scores),r.zb(1),r.hc("length",null==n.pagination?null:n.pagination.length)("pageSize",null==n.pagination?null:n.pagination.pageSize)("pageSizeOptions",r.ic(4,I)))},directives:[i.k,O.a],pipes:[i.e,q.a],styles:[".bxs-show[_ngcontent-%COMP%]{background:#ffc627}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:50px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:100px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-of-type, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-of-type{width:100px;text-align:right}"]}),t})();function _(t,n){1&t&&r.Mb(0,"app-no-paid-content")}function x(t,n){if(1&t){const t=r.Rb();r.Qb(0,"app-score-list",5),r.Xb("changePagination",(function(n){return r.pc(t),r.bc().getScores(n)})),r.cc(1,"async"),r.Pb()}if(2&t){const t=r.bc();r.hc("scores",r.dc(1,2,t.scores$))("pagination",t.pagination)}}const z=[{path:"",component:(()=>{class t{constructor(t,n){this.scoreService=t,this.authService=n,this.options={page:1,perPage:15}}ngOnInit(){this.authService.getLocalIsStudentPaid().pipe(Object(a.a)()).subscribe(t=>{null===t?this.authService.refreshToken().pipe(Object(a.a)()).subscribe(t=>{this.authService.setLocalIsStudentPaid(t),this.isStudentPaid=t}):this.isStudentPaid=t}),this.getScores()}getScores(t=null){t&&(this.options=Object.assign(Object.assign({},this.options),t)),this.scores$=this.scoreService.getScores(this.options).pipe(Object(c.a)(t=>(this.pagination={length:t.meta.pagination.total,pageSize:t.meta.pagination.per_page},t.data)))}}return t.\u0275fac=function(n){return new(n||t)(r.Lb(b),r.Lb(p.a))},t.\u0275cmp=r.Fb({type:t,selectors:[["app-score"]],decls:7,vars:2,consts:[[1,"minus-header-footer-height"],[1,"container","py-50"],[1,"sub-title"],[4,"ngIf"],[3,"scores","pagination","changePagination",4,"ngIf"],[3,"scores","pagination","changePagination"]],template:function(t,n){1&t&&(r.Qb(0,"div",0),r.Qb(1,"div",1),r.Qb(2,"h2",2),r.Ac(3,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0443\u0441\u043f\u0435\u0445\u043e\u0432"),r.Pb(),r.yc(4,_,1,0,"app-no-paid-content",3),r.yc(5,x,2,4,"app-score-list",4),r.Pb(),r.Pb(),r.Mb(6,"app-footer")),2&t&&(r.zb(4),r.hc("ngIf",!n.isStudentPaid),r.zb(1),r.hc("ngIf",n.isStudentPaid))},directives:[i.l,g.a,h.a,M],pipes:[i.b],encapsulation:2}),t})()}];let A=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(n){return new(n||t)},imports:[[s.g.forChild(z)],s.g]}),t})(),C=(()=>{class t{}return t.\u0275mod=r.Jb({type:t}),t.\u0275inj=r.Ib({factory:function(n){return new(n||t)},imports:[[i.c,A,o.a]]}),t})()}}]);