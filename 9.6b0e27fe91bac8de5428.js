(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{GJO1:function(t,e,n){"use strict";n.r(e),n.d(e,"QuestionsModule",(function(){return T}));var i=n("ofXK"),o=n("tyNb"),s=n("quSY"),a=n("lJxs"),c=n("0IaG"),r=n("3Pt+"),l=n("LvDl"),u=n("SxV6"),b=n("fXoL"),d=n("lV75"),h=n("x6JD"),g=n("tk/3");let p=(()=>{class t{constructor(t){this.http=t}get url(){return d.a.baseUrl}getQuestions(t){let e=this.url+"question";return t&&(e+=h.a.getOptionsQuery(t)),this.http.get(e)}createQuestion(t,e){let n=this.url+"question";return e&&(n+=h.a.getOptionsQuery(e)),this.http.post(n,t)}updateQuestion(t,e,n){let i=`${this.url}question/${t}`;return n&&(i+=h.a.getOptionsQuery(n)),this.http.put(i,e)}removeImage(t,e){return this.http.delete(`${this.url}question/${t}/image/${e}`)}removeAnswer(t){return this.http.delete(`${this.url}question-answer/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(b.Ub(g.b))},t.\u0275prov=b.Hb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=n("9nlD"),f=n("1jcm"),P=n("kmnG"),v=n("qFsG"),Q=n("d3UM"),w=n("FKr1"),y=n("QwIL");function q(t,e){if(1&t&&(b.Qb(0,"mat-option",23),b.Ac(1),b.Pb()),2&t){const t=e.$implicit;b.hc("value",t.id),b.zb(1),b.Cc(" ",t.name," ")}}function C(t,e){if(1&t){const t=b.Rb();b.Qb(0,"app-image-uploader",24),b.Xb("changeImageSource",(function(e){b.pc(t);const n=b.bc();return n.imgSource=e,n.showRemoveButton=!0}))("removeImage",(function(){return b.pc(t),b.bc().removeImage()})),b.Pb()}if(2&t){const t=b.bc();b.hc("id",t.question.id)("endpoint","question")("imgSource",t.imgSource)("isNew",t.isNew)("showRemoveButton",t.showRemoveButton)}}function A(t,e){if(1&t){const t=b.Rb();b.Qb(0,"button",25),b.Xb("click",(function(){b.pc(t);const e=b.bc();return e.deleteAnswer(e.form.controls.questionAnswers.controls.length-1)})),b.Ac(1," - "),b.Pb()}}function O(t,e){if(1&t){const t=b.Rb();b.Qb(0,"button",25),b.Xb("click",(function(){return b.pc(t),b.bc().addAnswer()})),b.Ac(1," + "),b.Pb()}}function _(t,e){if(1&t&&(b.Qb(0,"div",26),b.Qb(1,"div",27),b.Qb(2,"mat-form-field",6),b.Qb(3,"mat-label"),b.Ac(4),b.Pb(),b.Mb(5,"input",28),b.Pb(),b.Pb(),b.Qb(6,"div",27),b.Qb(7,"mat-form-field",6),b.Qb(8,"mat-label"),b.Ac(9),b.Pb(),b.Mb(10,"input",29),b.Pb(),b.Pb(),b.Qb(11,"div",30),b.Qb(12,"mat-slide-toggle",31),b.Ac(13,"True"),b.Pb(),b.Pb(),b.Pb()),2&t){const t=e.index;b.hc("formGroup",e.$implicit),b.zb(4),b.Cc("English Answer ",t+1,""),b.zb(5),b.Cc("Russian Answer ",t+1,"")}}let x=(()=>{class t{constructor(t,e,n,i,o){this.dialogRef=t,this.dialogData=e,this.formBuilder=n,this.questionsService=i,this.notificationService=o,this.imgSource="assets/images/empty_image.png"}ngOnInit(){var t,e,n,i;this.question=null===(t=this.dialogData)||void 0===t?void 0:t.question,this.isNew=!this.question,this.categories=null===(e=this.dialogData)||void 0===e?void 0:e.categories,Object(l.isEmpty)(null===(i=null===(n=this.question)||void 0===n?void 0:n.image)||void 0===i?void 0:i.data)||(this.showRemoveButton=!0,this.imgSource=this.question.image.data.url),this.initForm()}closePopup(){this.dialogRef.close()}removeImage(){var t,e;Object(l.isEmpty)(null===(e=null===(t=this.question)||void 0===t?void 0:t.image)||void 0===e?void 0:e.data)||this.questionsService.removeImage(this.question.id,this.question.image.data.id).pipe(Object(u.a)()).subscribe(()=>{this.imgSource="assets/images/empty_image.png",this.showRemoveButton=!1})}addAnswer(){this.form.controls.questionAnswers.push(this.formBuilder.group({is_true:[!1],en:["empty",r.v.required],ru:["",r.v.required]}))}deleteAnswer(t){const e=this.form.controls.questionAnswers,n=e.value[t].id;n?this.questionsService.removeAnswer(n).pipe(Object(u.a)()).subscribe(()=>{this.notificationService.success(),e.removeAt(t)}):e.removeAt(t)}fetchForm(){const t=!!this.form.controls.questionAnswers.value.filter(t=>t.is_true).length;if(this.fillEmptyFields(),this.form.invalid||!t)return void this.form.markAsDirty();const e=[];for(let i of this.form.controls.questionAnswers.value)e.push({id:i.id,is_true:i.is_true,en:{content:i.en},ru:{content:i.ru}});const n=Object.assign(Object.assign({},this.form.value),{questionAnswers:e});this.isNew?this.questionsService.createQuestion(n,{include:["category","questionAnswers","translations","questionAnswers.translations"]}).pipe(Object(u.a)()).subscribe(t=>{this.notificationService.success(),this.dialogRef.close(t.data)}):this.questionsService.updateQuestion(this.question.id,n,{include:["category","questionAnswers","translations","questionAnswers.translations"]}).pipe(Object(u.a)()).subscribe(()=>{this.notificationService.success(),this.dialogRef.close()})}fillEmptyFields(){const t=this.form.controls.en.controls.explanation.value,e=this.form.controls.ru.controls.explanation.value;this.form.controls.en.controls.content.value||this.form.controls.en.controls.content.patchValue(this.form.controls.ru.controls.content.value),t||this.form.controls.en.controls.explanation.patchValue(e)}initForm(){var t;let e,n;this.isNew||(e=this.question.translations.data.find(t=>"en"===t.locale),n=this.question.translations.data.find(t=>"ru"===t.locale)),this.form=this.formBuilder.group({is_active:[!!this.isNew||this.question.is_active],question_code:[(null===(t=this.question)||void 0===t?void 0:t.question_code)||null],category_data_value_id:[this.isNew?"8e34bd6e-2305-11ec-a9fa-3cecef02c254":this.question.category_data_value_id,r.v.required],en:this.formBuilder.group({content:[this.isNew?null:e.content],explanation:[this.isNew?null:e.explanation]}),ru:this.formBuilder.group({content:[this.isNew?null:n.content,r.v.required],explanation:[this.isNew?null:n.explanation]}),questionAnswers:this.formBuilder.array([])}),this.setQuestionAnswers()}setQuestionAnswers(){const t=this.form.controls.questionAnswers,e=this.isNew?2:this.question.questionAnswers.data.length;for(let n=0;n<e;n++){let e,i;this.isNew||(e=this.question.questionAnswers.data[n].translations.data.find(t=>"en"===t.locale),i=this.question.questionAnswers.data[n].translations.data.find(t=>"ru"===t.locale)),t.push(this.formBuilder.group({id:[this.isNew?null:this.question.questionAnswers.data[n].id],is_true:[!this.isNew&&this.question.questionAnswers.data[n].is_true],en:[this.isNew?"empty":e.content,r.v.required],ru:[this.isNew?"":i.content,r.v.required]}))}}}return t.\u0275fac=function(e){return new(e||t)(b.Lb(c.d),b.Lb(c.a),b.Lb(r.d),b.Lb(p),b.Lb(m.a))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-question-form"]],decls:53,vars:8,consts:[[1,"text-center"],["enctype","multipart/form-data",1,"row",3,"formGroup"],[1,"col-md-12"],[1,"py-3"],["formControlName","is_active"],[1,"col-md-6"],["appearance","fill",1,"example-full-width"],["matInput","","type","text","maxlength","16","formControlName","question_code",1,"uc"],["appearance","fill"],["formControlName","category_data_value_id"],[3,"value",4,"ngFor","ngForOf"],[3,"id","endpoint","imgSource","isNew","showRemoveButton","changeImageSource","removeImage",4,"ngIf"],["formGroupName","en"],["rows","5","matInput","","formControlName","content"],["rows","5","matInput","","formControlName","explanation"],["formGroupName","ru"],[1,"buttons-height"],["class","secondary",3,"click",4,"ngIf"],["formArrayName","questionAnswers"],["class","row",3,"formGroup",4,"ngFor","ngForOf"],[1,"popup-actions","mt-3"],["type","button",1,"secondary",3,"click"],["type","submit",1,"primary",3,"click"],[3,"value"],[3,"id","endpoint","imgSource","isNew","showRemoveButton","changeImageSource","removeImage"],[1,"secondary",3,"click"],[1,"row",3,"formGroup"],[1,"col-md-5"],["matInput","","type","text","formControlName","en"],["matInput","","type","text","formControlName","ru"],[1,"col-md-2","text-center","pt-0","pb-5","pb-md-0","pt-md-3"],["formControlName","is_true"]],template:function(t,e){1&t&&(b.Qb(0,"h3",0),b.Ac(1),b.Pb(),b.Qb(2,"form",1),b.Qb(3,"div",2),b.Qb(4,"div",3),b.Qb(5,"mat-slide-toggle",4),b.Ac(6,"Activate question"),b.Pb(),b.Pb(),b.Pb(),b.Qb(7,"div",5),b.Qb(8,"mat-form-field",6),b.Qb(9,"mat-label"),b.Ac(10,"Question Code"),b.Pb(),b.Mb(11,"input",7),b.Pb(),b.Qb(12,"mat-form-field",8),b.Qb(13,"mat-label"),b.Ac(14,"Select category"),b.Pb(),b.Qb(15,"mat-select",9),b.yc(16,q,2,2,"mat-option",10),b.Pb(),b.Pb(),b.Pb(),b.Qb(17,"div",5),b.yc(18,C,1,5,"app-image-uploader",11),b.Pb(),b.Qb(19,"div",5),b.Qb(20,"h3",0),b.Ac(21,"English"),b.Pb(),b.Ob(22,12),b.Qb(23,"mat-form-field",6),b.Qb(24,"mat-label"),b.Ac(25,"Question"),b.Pb(),b.Mb(26,"textarea",13),b.Pb(),b.Qb(27,"mat-form-field",6),b.Qb(28,"mat-label"),b.Ac(29,"Explanation"),b.Pb(),b.Mb(30,"textarea",14),b.Pb(),b.Nb(),b.Pb(),b.Qb(31,"div",5),b.Qb(32,"h3",0),b.Ac(33,"Russian"),b.Pb(),b.Ob(34,15),b.Qb(35,"mat-form-field",6),b.Qb(36,"mat-label"),b.Ac(37,"Question"),b.Pb(),b.Mb(38,"textarea",13),b.Pb(),b.Qb(39,"mat-form-field",6),b.Qb(40,"mat-label"),b.Ac(41,"Explanation"),b.Pb(),b.Mb(42,"textarea",14),b.Pb(),b.Nb(),b.Pb(),b.Qb(43,"div",16),b.yc(44,A,2,0,"button",17),b.yc(45,O,2,0,"button",17),b.Pb(),b.Ob(46,18),b.yc(47,_,14,3,"div",19),b.Nb(),b.Qb(48,"div",20),b.Qb(49,"button",21),b.Xb("click",(function(){return e.closePopup()})),b.Ac(50,"Cancel"),b.Pb(),b.Qb(51,"button",22),b.Xb("click",(function(){return e.fetchForm()})),b.Ac(52),b.Pb(),b.Pb(),b.Pb()),2&t&&(b.zb(1),b.Bc(e.isNew?"Add question":"Edit question "+(null==e.question?null:e.question.code)),b.zb(1),b.hc("formGroup",e.form),b.zb(14),b.hc("ngForOf",e.categories),b.zb(2),b.hc("ngIf",!e.isNew),b.zb(26),b.hc("ngIf",e.form.controls.questionAnswers.controls.length>2),b.zb(1),b.hc("ngIf",e.form.controls.questionAnswers.controls.length<5),b.zb(2),b.hc("ngForOf",e.form.controls.questionAnswers.controls),b.zb(5),b.Cc(" ",e.isNew?"Create":"Update"," "))},directives:[r.x,r.p,r.h,f.a,r.o,r.g,P.c,P.f,v.a,r.b,r.k,Q.a,i.k,i.l,r.i,r.c,w.f,y.a],styles:[".buttons-height[_ngcontent-%COMP%]{height:70px;text-align:center}.buttons-height[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-right:10px}.buttons-height[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-of-type{margin-right:0}"]}),t})();var M=n("QdkN"),S=n("CZ+i");function N(t,e){if(1&t){const t=b.Rb();b.Qb(0,"tr"),b.Qb(1,"td"),b.Ac(2),b.Pb(),b.Qb(3,"td"),b.Ac(4),b.Pb(),b.Qb(5,"td",6),b.Qb(6,"i",8),b.Xb("click",(function(){b.pc(t);const n=e.$implicit;return b.bc(2).removeCategory(null==n?null:n.id)})),b.Pb(),b.Pb(),b.Pb()}if(2&t){const t=e.$implicit,n=e.index;b.zb(2),b.Bc(n+1),b.zb(2),b.Bc(null==t?null:t.name)}}function I(t,e){if(1&t&&(b.Qb(0,"div",5),b.Qb(1,"table"),b.Qb(2,"thead"),b.Qb(3,"tr"),b.Qb(4,"th"),b.Ac(5,"No"),b.Pb(),b.Qb(6,"th"),b.Ac(7,"Category"),b.Pb(),b.Qb(8,"th",6),b.Ac(9,"Actions"),b.Pb(),b.Pb(),b.Pb(),b.Qb(10,"tbody"),b.yc(11,N,7,2,"tr",7),b.Pb(),b.Pb(),b.Pb()),2&t){const t=b.bc();b.zb(11),b.hc("ngForOf",t.categories)}}let k=(()=>{class t{constructor(t,e,n){this.dialog=t,this.dataValueService=e,this.notificationService=n,this.subscription=new s.a}ngOnInit(){this.getCategories()}getCategories(){this.subscription.add(this.dataValueService.getDataValues({include:["dataValues"]}).pipe(Object(a.a)(t=>t.data[0].dataValues.data)).subscribe(t=>{this.categories=t}))}addCategory(){this.addedCategory&&this.dataValueService.addDataValue({data_key_id:"098cd228-1ed6-11ec-874e-3cecef02c254",value:"question_category_"+this.addedCategory,en:{name:this.addedCategory},ru:{name:this.addedCategory}}).pipe(Object(u.a)()).subscribe(()=>{this.notificationService.success(),this.dataValueService.getDataValues({include:["dataValues"]}).pipe(Object(u.a)()).subscribe()})}removeCategory(t){this.dialog.open(M.a,{width:"15rem"}).afterClosed().pipe(Object(u.a)()).subscribe(e=>{e&&this.dataValueService.deleteDataValue(t).pipe(Object(u.a)()).subscribe(()=>{this.getCategories(),this.notificationService.success()})})}}return t.\u0275fac=function(e){return new(e||t)(b.Lb(c.b),b.Lb(S.a),b.Lb(m.a))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-question-category"]],decls:8,vars:2,consts:[["class","overflow-auto",4,"ngIf"],[1,"d-flex"],["appearance","fill",1,"example-full-width"],["matInput","","type","text","name","category",3,"ngModel","ngModelChange"],[1,"primary",3,"click"],[1,"overflow-auto"],[1,"text-right"],[4,"ngFor","ngForOf"],[1,"bx","bxs-trash",3,"click"]],template:function(t,e){1&t&&(b.yc(0,I,12,1,"div",0),b.Qb(1,"div",1),b.Qb(2,"mat-form-field",2),b.Qb(3,"mat-label"),b.Ac(4,"Category Name"),b.Pb(),b.Qb(5,"input",3),b.Xb("ngModelChange",(function(t){return e.addedCategory=t})),b.Pb(),b.Pb(),b.Qb(6,"button",4),b.Xb("click",(function(){return e.addCategory()})),b.Ac(7,"+"),b.Pb(),b.Pb()),2&t&&(b.hc("ngIf",null==e.categories?null:e.categories.length),b.zb(5),b.hc("ngModel",e.addedCategory))},directives:[i.l,P.c,P.f,v.a,r.b,r.o,r.r,i.k],styles:["table[_ngcontent-%COMP%]{min-width:unset}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:40px}"]}),t})();var z=n("M9IT");function F(t,e){1&t&&(b.Qb(0,"p",14),b.Ac(1,"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445"),b.Pb())}function B(t,e){if(1&t){const t=b.Rb();b.Qb(0,"tr"),b.Qb(1,"td"),b.Ac(2),b.Pb(),b.Qb(3,"td",18),b.Ac(4),b.Pb(),b.Qb(5,"td"),b.Ac(6),b.Pb(),b.Qb(7,"td"),b.Ac(8),b.Pb(),b.Qb(9,"td"),b.Ac(10),b.Pb(),b.Qb(11,"td",19),b.Qb(12,"i",20),b.Xb("click",(function(){b.pc(t);const n=e.$implicit;return b.bc(2).openQuestionDialog(n)})),b.Pb(),b.Pb(),b.Pb()}if(2&t){const t=e.$implicit;b.zb(2),b.Bc(null==t?null:t.code),b.zb(2),b.Bc(t.question_code||"-"),b.zb(2),b.Bc(null!=t&&t.is_active?"Active":"Inactive"),b.zb(2),b.Bc(null==t||null==t.translations.data[0]?null:t.translations.data[0].content),b.zb(2),b.Bc(null==t||null==t.translations.data[1]?null:t.translations.data[1].content)}}function j(t,e){if(1&t&&(b.Qb(0,"table",15),b.Qb(1,"thead"),b.Qb(2,"tr"),b.Qb(3,"th"),b.Ac(4,"No"),b.Pb(),b.Qb(5,"th"),b.Ac(6,"Code"),b.Pb(),b.Qb(7,"th"),b.Ac(8,"Status"),b.Pb(),b.Qb(9,"th"),b.Ac(10,"Text (EN)"),b.Pb(),b.Qb(11,"th"),b.Ac(12,"Text (RU)"),b.Pb(),b.Qb(13,"th",16),b.Ac(14,"Actions"),b.Pb(),b.Pb(),b.Pb(),b.Qb(15,"tbody"),b.yc(16,B,13,5,"tr",17),b.Pb(),b.Pb()),2&t){const t=b.bc();b.zb(16),b.hc("ngForOf",t.questions)}}const V=function(){return[5,10,25,100]};function D(t,e){if(1&t){const t=b.Rb();b.Qb(0,"mat-paginator",21),b.Xb("page",(function(e){return b.pc(t),b.bc().changePage(e)})),b.Pb()}if(2&t){const t=b.bc();b.hc("length",null==t.pagination?null:t.pagination.length)("pageSize",null==t.pagination?null:t.pagination.pageSize)("pageSizeOptions",b.ic(3,V))}}const R=function(t){return{"text-uppercase":t}};let X=(()=>{class t{constructor(t){this.dialog=t,this.changePagination=new b.n,this.searchFormControl=new r.e(""),this.searchBy="text",this.searchByData={code:"Code",text:"Text"},this.changedPagination={page:1,perPage:15}}openQuestionDialog(t=null){this.dialog.open(x,{width:"60rem",data:{question:t,categories:this.categories}}).afterClosed().pipe(Object(u.a)()).subscribe(t=>{this.changePagination.emit({pagination:this.changedPagination}),t&&this.openQuestionDialog(t)})}changePage(t){this.changedPagination.page=t.pageIndex+1,this.changedPagination.perPage=t.pageSize,this.changePagination.emit({pagination:this.changedPagination})}applyFilter(){console.log("applyFilter",this.searchFormControl.value),this.changePagination.emit({pagination:this.changedPagination,search:{field:this.searchBy,value:this.searchFormControl.value}})}clearFilter(){this.searchFormControl.reset(),this.searchBy="text",this.changePagination.emit({pagination:this.changedPagination,search:null})}}return t.\u0275fac=function(e){return new(e||t)(b.Lb(c.b))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-questions-list"]],inputs:{questions:"questions",categories:"categories",pagination:"pagination"},outputs:{changePagination:"changePagination"},decls:23,vars:8,consts:[[1,"d-flex","align-items-center","mb-4"],[1,"filter","d-flex","align-items-center"],[1,"input-group","me-2"],["type","text","aria-label","","placeholder","Write something here",1,"form-control","search-field",3,"ngClass","formControl"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","dd-button","btn-outline-secondary","dropdown-toggle"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],["type","button",1,"btn","btn-outline-success","dd-button",3,"click"],["type","button",1,"btn","btn-link","dd-button","ms-2",3,"click"],[1,"secondary","d-block","ml-auto","fs-6","py-2",3,"click"],[1,"overflow-auto"],["class","text-center",4,"ngIf"],["class","dtt-table",4,"ngIf"],["aria-label","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",3,"length","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"text-center"],[1,"dtt-table"],[1,"text-right","fit-content"],[4,"ngFor","ngForOf"],[1,"text-uppercase"],[1,"text-right"],[1,"bx","bxs-pencil",3,"click"],["aria-label","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443",3,"length","pageSize","pageSizeOptions","page"]],template:function(t,e){1&t&&(b.Qb(0,"div",0),b.Qb(1,"div",1),b.Qb(2,"div",2),b.Mb(3,"input",3),b.Qb(4,"button",4),b.Ac(5),b.Pb(),b.Qb(6,"ul",5),b.Qb(7,"li"),b.Qb(8,"div",6),b.Xb("click",(function(){return e.searchBy="code"})),b.Ac(9,"Code"),b.Pb(),b.Pb(),b.Qb(10,"li"),b.Qb(11,"div",6),b.Xb("click",(function(){return e.searchBy="text"})),b.Ac(12,"Text"),b.Pb(),b.Pb(),b.Pb(),b.Pb(),b.Qb(13,"button",7),b.Xb("click",(function(){return e.applyFilter()})),b.Ac(14,"Apply"),b.Pb(),b.Qb(15,"button",8),b.Xb("click",(function(){return e.clearFilter()})),b.Ac(16,"Clear"),b.Pb(),b.Pb(),b.Qb(17,"button",9),b.Xb("click",(function(){return e.openQuestionDialog()})),b.Ac(18,"Add question"),b.Pb(),b.Pb(),b.Qb(19,"div",10),b.yc(20,F,2,0,"p",11),b.yc(21,j,17,1,"table",12),b.yc(22,D,1,4,"mat-paginator",13),b.Pb()),2&t&&(b.zb(3),b.hc("ngClass",b.jc(6,R,"code"===e.searchBy))("formControl",e.searchFormControl),b.zb(2),b.Bc(e.searchByData[e.searchBy]),b.zb(15),b.hc("ngIf",!(null!=e.questions&&e.questions.length)),b.zb(1),b.hc("ngIf",null==e.questions?null:e.questions.length),b.zb(1),b.hc("ngIf",null==e.questions?null:e.questions.length))},directives:[r.b,i.j,r.o,r.f,i.l,i.k,z.a],styles:["table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:first-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:first-child{width:60px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2), table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:110px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3), table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:80px!important}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3), table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4), table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3), table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4){width:calc(50% - 115px)}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:last-child, table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:last-child{width:50px}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;max-width:0}.dd-button[_ngcontent-%COMP%], .search-field[_ngcontent-%COMP%]{font-size:14px!important}.dd-button[_ngcontent-%COMP%]:hover{transform:none!important}.dropdown-item[_ngcontent-%COMP%]{cursor:pointer;font-size:14px!important}"]}),t})();var L=n("aF9I");const $=[{path:"",component:(()=>{class t{constructor(t,e,n){this.questionsService=t,this.dataValueService=e,this.dialog=n,this.options={include:["category","questionAnswers","translations","questionAnswers.translations","image"],page:1,perPage:15},this.subscription=new s.a}ngOnInit(){this.getCategories(),this.getQuestions()}ngOnDestroy(){this.subscription.unsubscribe()}openCategoryList(){this.dialog.open(k,{width:"30rem"})}getCategories(){this.subscription.add(this.dataValueService.getDataValues({include:["dataValues"]}).pipe(Object(a.a)(t=>t.data[0].dataValues.data)).subscribe(t=>{this.categories=t}))}openQuestionDialog(t=null){this.dialog.open(x,{width:"60rem",data:{question:t,categories:this.categories}})}getQuestions(t=null){t&&(this.options=Object.assign(Object.assign(Object.assign({},this.options),null==t?void 0:t.pagination),{filters:(null==t?void 0:t.search)?[t.search]:""})),this.subscription.add(this.questionsService.getQuestions(this.options).pipe(Object(a.a)(t=>(this.pagination={length:t.meta.pagination.total,pageSize:t.meta.pagination.per_page},t.data))).subscribe(t=>{this.questions=t}))}}return t.\u0275fac=function(e){return new(e||t)(b.Lb(p),b.Lb(S.a),b.Lb(c.b))},t.\u0275cmp=b.Fb({type:t,selectors:[["app-questions"]],decls:9,vars:3,consts:[[1,"minus-header-footer-height"],[1,"container","py-50"],[1,"d-flex","justify-content-between","mb-4"],[1,"sub-title"],[1,"secondary",3,"click"],[3,"questions","categories","pagination","changePagination"]],template:function(t,e){1&t&&(b.Qb(0,"div",0),b.Qb(1,"div",1),b.Qb(2,"div",2),b.Qb(3,"h2",3),b.Ac(4,"Questions list"),b.Pb(),b.Qb(5,"button",4),b.Xb("click",(function(){return e.openCategoryList()})),b.Ac(6,"Open Categories"),b.Pb(),b.Pb(),b.Qb(7,"app-questions-list",5),b.Xb("changePagination",(function(t){return e.getQuestions(t)})),b.Pb(),b.Pb(),b.Pb(),b.Mb(8,"app-footer")),2&t&&(b.zb(7),b.hc("questions",e.questions)("categories",e.categories)("pagination",e.pagination))},directives:[X,L.a],encapsulation:2}),t})()}];let G=(()=>{class t{}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(e){return new(e||t)},imports:[[o.g.forChild($)],o.g]}),t})();var E=n("PCNd"),J=n("evvh");let T=(()=>{class t{}return t.\u0275mod=b.Jb({type:t}),t.\u0275inj=b.Ib({factory:function(e){return new(e||t)},imports:[[i.c,G,E.a,J.a]]}),t})()}}]);