(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"305l":function(r,t,o){"use strict";o.r(t),o.d(t,"AuthModule",(function(){return sr}));var e=o("ofXK"),n=o("PCNd"),i=o("tyNb"),s=function(r){return r.login="login",r.register="register",r.forgotPassword="forgot-password",r}({}),a=o("SxV6"),c=o("fXoL"),l=o("/JoM"),u=o("9nlD");function m(r,t){1&r&&(c.Qb(0,"span",11),c.Qb(1,"div",12),c.Qb(2,"span",13),c.Ac(3,"Loading..."),c.Pb(),c.Pb(),c.Pb())}let b=(()=>{class r{constructor(r,t,o){this.activeRouter=r,this.authService=t,this.notifier=o,this.queryEmail="",this.isSending=!1}ngOnInit(){this.activeRouter.queryParams.subscribe(r=>{this.queryEmail=r.q})}resendVerification(){this.isSending=!0,this.authService.resendVerification({email:this.queryEmail}).subscribe(r=>{setTimeout(()=>{r.success?(this.notifier.success("\u0422\u043e\u043a\u0435\u043d \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d."),this.isSending=!1):(this.isSending=!1,this.notifier.success("\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u0443\u0436\u0435 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0430."))},1e3)},r=>{})}}return r.\u0275fac=function(t){return new(t||r)(c.Lb(i.a),c.Lb(l.a),c.Lb(u.a))},r.\u0275cmp=c.Fb({type:r,selectors:[["app-signup-success"]],decls:17,vars:2,consts:[[1,"verify-card","mx-2","pt-5"],[1,"content","d-md-flex","my-5","px-3"],[1,"icon-container","px-4","mb-4","text-center"],["alt","","src","assets/images/verify.png"],[1,"data","px-2"],[1,"verify-content","text-muted"],[1,"verify-action","text-center","mt-4","w-100"],[1,"resend","d-flex","justify-content-between","align-items-center","h-100"],[1,"text","py-3","px-3"],[1,"fw-bold","pointer","verify-action",3,"click"],["class","inline-spinner-container position-absolute ms-2",4,"ngIf"],[1,"inline-spinner-container","position-absolute","ms-2"],["role","status",1,"resend-spinner","spinner-border","text-warning"],[1,"visually-hidden"]],template:function(r,t){1&r&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.Mb(3,"img",3),c.Pb(),c.Qb(4,"div",4),c.Qb(5,"h3"),c.Ac(6," \u0412\u0421\u0415\u0413\u041e \u0415\u0429\u0415 \u041e\u0414\u0418\u041d \u0428\u0410\u0413... "),c.Pb(),c.Qb(7,"div",5),c.Ac(8," \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b, \u0447\u0442\u043e\u0431\u044b \u0432\u044b \u043c\u043e\u0433\u043b\u0438 \u0432\u043e\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443, \u0435\u0441\u043b\u0438 \u0432\u044b \u043a\u043e\u0433\u0434\u0430-\u043d\u0438\u0431\u0443\u0434\u044c \u0437\u0430\u0431\u0443\u0434\u0435\u0442\u0435 \u0441\u0432\u043e\u0439 \u043f\u0430\u0440\u043e\u043b\u044c. \u041c\u044b \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e \u0441 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435\u043c \u043d\u0430 \u0430\u0434\u0440\u0435\u0441: "),c.Qb(9,"div",6),c.Ac(10),c.Pb(),c.Pb(),c.Pb(),c.Pb(),c.Qb(11,"div",7),c.Qb(12,"div",8),c.Ac(13,"\u0412\u0441\u0435 \u0435\u0449\u0435 \u043d\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438? "),c.Qb(14,"span",9),c.Xb("click",(function(){return t.resendVerification()})),c.Ac(15,"O\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e"),c.Pb(),c.yc(16,m,4,0,"span",10),c.Pb(),c.Pb(),c.Pb()),2&r&&(c.zb(10),c.Bc(t.queryEmail),c.zb(6),c.hc("ngIf",t.isSending))},directives:[e.l],encapsulation:2}),r})();function f(r,t){1&r&&(c.Qb(0,"div",9),c.Qb(1,"div",10),c.Qb(2,"span",11),c.Ac(3,"Loading..."),c.Pb(),c.Pb(),c.Pb())}function d(r,t){1&r&&c.Mb(0,"img",12)}function h(r,t){1&r&&(c.Qb(0,"span"),c.Ac(1," \u0412\u0430\u0448 \u0430\u0434\u0440\u0435\u0441 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b \u043f\u0440\u043e\u0432\u0435\u0440\u044f\u0435\u0442\u0441\u044f, \u043f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0434\u043e\u0436\u0434\u0438\u0442\u0435. "),c.Pb())}function p(r,t){1&r&&(c.Ac(0," \u0411\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u043c \u0432\u0430\u0441 \u0437\u0430 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u0432\u0430\u0448\u0435\u0433\u043e \u0430\u0434\u0440\u0435\u0441\u0430 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b. "),c.Mb(1,"br"),c.Ac(2," \u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0432\u043e\u0439\u0442\u0438 \u0432 \u0441\u0438\u0441\u0442\u0435\u043c\u0443 \u0441\u0435\u0439\u0447\u0430\u0441. "),c.Qb(3,"a",13),c.Ac(4,"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0437\u0434\u0435\u0441\u044c \u0447\u0442\u043e\u0431 \u0432\u043e\u0439\u0442\u0438"),c.Pb()),2&r&&(c.zb(3),c.hc("routerLink","/auth"))}let g=(()=>{class r{constructor(r,t,o,e){this.router=r,this.activeRouter=t,this.authService=o,this.notifier=e,this.token="",this.isVerifying=!0}ngOnInit(){this.activeRouter.queryParams.subscribe(r=>{this.token=r.token,this.verifyIdentity()})}verifyIdentity(){this.authService.verifyIdentity({token:this.token}).subscribe(r=>{setTimeout(()=>{r.success?this.isVerifying=!1:(this.router.navigateByUrl("/auth"),this.notifier.error("\u041d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0438\u043b\u0438 \u0438\u0441\u0442\u0435\u043a\u0448\u0438\u0439 \u0442\u043e\u043a\u0435\u043d."))},1e3)},r=>{this.router.navigateByUrl("/auth")})}}return r.\u0275fac=function(t){return new(t||r)(c.Lb(i.c),c.Lb(i.a),c.Lb(l.a),c.Lb(u.a))},r.\u0275cmp=c.Fb({type:r,selectors:[["app-verify-identity"]],decls:13,vars:4,consts:[[1,"verify-card","p-4","mx-2","py-5"],[1,"content","d-md-flex","my-5","w-100"],[1,"icon-container","px-4","mb-4","text-center"],["class","spinner-container",4,"ngIf","ngIfElse"],["verifiedLoader",""],[1,"data","px-2","w-100"],[1,"verify-content","text-muted"],[4,"ngIf","ngIfElse"],["verified",""],[1,"spinner-container"],["role","status",1,"verify-spinner","spinner-border","text-warning"],[1,"visually-hidden"],["alt","","src","assets/images/verified.png"],[1,"verify-action","mt-4","pointer","d-block",3,"routerLink"]],template:function(r,t){if(1&r&&(c.Qb(0,"div",0),c.Qb(1,"div",1),c.Qb(2,"div",2),c.yc(3,f,4,0,"div",3),c.yc(4,d,1,0,"ng-template",null,4,c.zc),c.Pb(),c.Qb(6,"div",5),c.Qb(7,"h4"),c.Ac(8," \u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0439 \u043f\u043e\u0447\u0442\u044b... "),c.Pb(),c.Qb(9,"div",6),c.yc(10,h,2,0,"span",7),c.yc(11,p,5,1,"ng-template",null,8,c.zc),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&r){const r=c.nc(5),o=c.nc(12);c.zb(3),c.hc("ngIf",t.isVerifying)("ngIfElse",r),c.zb(7),c.hc("ngIf",t.isVerifying)("ngIfElse",o)}},directives:[e.l,i.f],encapsulation:2}),r})();var w=o("3Pt+"),v=o("kmnG"),y=o("qFsG");function P(r,t){if(1&r&&(c.Qb(0,"p",13),c.Ac(1),c.Pb()),2&r){const r=c.bc();c.zb(1),c.Bc(r.errorMessageData)}}function Q(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u044d\u043b\u0435\u043a\u0442\u043e\u0440\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441\u0441 "),c.Pb())}function x(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 "),c.Qb(2,"strong"),c.Ac(3,"\u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0434\u0440\u0435\u0441\u0441"),c.Pb(),c.Pb())}function A(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c "),c.Pb())}function I(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 "),c.Qb(2,"strong"),c.Ac(3,"\u043f\u0430\u0440\u043e\u043b\u044c"),c.Pb(),c.Pb())}let k=(()=>{class r{constructor(r){this.formBuilder=r,this.sendForm=new c.n,this.errorMessageShow="",this.initForm()}submit(){this.sendForm.emit(this.form.value)}initForm(){this.form=this.formBuilder.group({email:["",[w.v.required,w.v.email]],password:["",[w.v.required,w.v.minLength(5)]]})}}return r.\u0275fac=function(t){return new(t||r)(c.Lb(w.d))},r.\u0275cmp=c.Fb({type:r,selectors:[["app-login"]],outputs:{sendForm:"sendForm"},decls:25,vars:7,consts:[[1,"title","auth-title"],["routerLink","/",1,"back-home"],[1,"bx","bx-left-arrow-alt"],[3,"formGroup"],["class","text-danger",4,"ngIf"],[1,"mb-2"],["appearance","fill",1,"example-full-width","w-100"],["type","email","matInput","","formControlName","email"],[4,"ngIf"],["type","password","matInput","","formControlName","password"],[1,"mb-3"],["routerLink","/auth/forgot-password"],[1,"primary","w-100",3,"disabled","click"],[1,"text-danger"]],template:function(r,t){1&r&&(c.Qb(0,"h2",0),c.Qb(1,"a",1),c.Mb(2,"i",2),c.Pb(),c.Ac(3," \u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"),c.Pb(),c.Qb(4,"form",3),c.yc(5,P,2,1,"p",4),c.Qb(6,"div",5),c.Qb(7,"mat-form-field",6),c.Qb(8,"mat-label"),c.Ac(9,"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"),c.Pb(),c.Mb(10,"input",7),c.yc(11,Q,2,0,"mat-error",8),c.yc(12,x,4,0,"mat-error",8),c.Pb(),c.Pb(),c.Qb(13,"div",5),c.Qb(14,"mat-form-field",6),c.Qb(15,"mat-label"),c.Ac(16,"\u041f\u0430\u0440\u043e\u043b\u044c"),c.Pb(),c.Mb(17,"input",9),c.yc(18,A,2,0,"mat-error",8),c.yc(19,I,4,0,"mat-error",8),c.Pb(),c.Qb(20,"div",10),c.Qb(21,"a",11),c.Ac(22,"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"),c.Pb(),c.Pb(),c.Pb(),c.Qb(23,"button",12),c.Xb("click",(function(){return t.submit()})),c.Ac(24,"\u0412\u041e\u0419\u0422\u0418"),c.Pb(),c.Pb()),2&r&&(c.zb(4),c.hc("formGroup",t.form),c.zb(1),c.hc("ngIf",t.errorMessageShow),c.zb(6),c.hc("ngIf",(null==t.form||null==t.form.controls||null==t.form.controls.email?null:t.form.controls.email.hasError("email"))&&!(null!=t.form&&null!=t.form.controls&&null!=t.form.controls.email&&t.form.controls.email.hasError("required"))),c.zb(1),c.hc("ngIf",null==t.form||null==t.form.controls||null==t.form.controls.email?null:t.form.controls.email.hasError("required")),c.zb(6),c.hc("ngIf",(null==t.form||null==t.form.controls||null==t.form.controls.password?null:t.form.controls.password.hasError("minLength"))&&!(null!=t.form&&null!=t.form.controls&&null!=t.form.controls.password&&t.form.controls.password.hasError("required"))),c.zb(1),c.hc("ngIf",null==t.form||null==t.form.controls||null==t.form.controls.password?null:t.form.controls.password.hasError("required")),c.zb(4),c.hc("disabled",t.form.invalid))},directives:[i.f,w.x,w.p,w.h,e.l,v.c,v.f,y.a,w.b,w.o,w.g,v.b],encapsulation:2}),r})();var z=o("quSY");function q(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 "),c.Qb(2,"strong"),c.Ac(3,"\u0438\u043c\u044f"),c.Pb(),c.Pb())}function F(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u044d\u043b\u0435\u043a\u0442\u043e\u0440\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441\u0441 "),c.Pb())}function S(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 "),c.Qb(2,"strong"),c.Ac(3,"\u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0434\u0440\u0435\u0441\u0441"),c.Pb(),c.Pb())}function L(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c "),c.Pb())}function E(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 "),c.Qb(2,"strong"),c.Ac(3,"\u043f\u0430\u0440\u043e\u043b\u044c"),c.Pb(),c.Pb())}function M(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c "),c.Pb())}function N(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 "),c.Qb(2,"strong"),c.Ac(3,"\u043f\u0430\u0440\u043e\u043b\u044c"),c.Pb(),c.Pb())}let C=(()=>{class r{constructor(r){this.formBuilder=r,this.subscription=new z.a,this.sendForm=new c.n,this.initForm(),this.subscribeToPasswords()}ngOnDestroy(){this.subscription.unsubscribe()}initForm(){this.form=this.formBuilder.group({name:[null,w.v.required],email:[null,[w.v.required,w.v.email]],password:[null,w.v.required],password_confirmation:[null,w.v.required],locale:["ru",w.v.required]})}submit(){this.sendForm.emit(this.form.value)}subscribeToPasswords(){this.subscription.add(this.form.controls.password.valueChanges.subscribe(()=>{this.checkSamePasswords()})),this.subscription.add(this.form.controls.password_confirmation.valueChanges.subscribe(()=>{this.checkSamePasswords()}))}checkSamePasswords(){const r=this.form.get("password").value,t=this.form.get("password_confirmation").value;this.isSamePassword=r===t}}return r.\u0275fac=function(t){return new(t||r)(c.Lb(w.d))},r.\u0275cmp=c.Fb({type:r,selectors:[["app-register"]],outputs:{sendForm:"sendForm"},decls:34,vars:9,consts:[[1,"title","auth-title"],["routerLink","/",1,"back-home"],[1,"bx","bx-left-arrow-alt"],[3,"formGroup"],[1,"mb-2"],["appearance","fill",1,"example-full-width"],["type","email","matInput","","formControlName","name"],[4,"ngIf"],["type","email","matInput","","formControlName","email"],["type","password","matInput","","formControlName","password"],["type","password","matInput","","formControlName","password_confirmation"],[1,"primary","w-100",3,"disabled","click"]],template:function(r,t){1&r&&(c.Qb(0,"h2",0),c.Qb(1,"a",1),c.Mb(2,"i",2),c.Pb(),c.Ac(3," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),c.Pb(),c.Qb(4,"form",3),c.Qb(5,"div",4),c.Qb(6,"mat-form-field",5),c.Qb(7,"mat-label"),c.Ac(8,"\u0418\u043c\u044f \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"),c.Pb(),c.Mb(9,"input",6),c.yc(10,q,4,0,"mat-error",7),c.Pb(),c.Pb(),c.Qb(11,"div",4),c.Qb(12,"mat-form-field",5),c.Qb(13,"mat-label"),c.Ac(14,"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"),c.Pb(),c.Mb(15,"input",8),c.yc(16,F,2,0,"mat-error",7),c.yc(17,S,4,0,"mat-error",7),c.Pb(),c.Pb(),c.Qb(18,"div",4),c.Qb(19,"mat-form-field",5),c.Qb(20,"mat-label"),c.Ac(21,"\u041f\u0430\u0440\u043e\u043b\u044c"),c.Pb(),c.Mb(22,"input",9),c.yc(23,L,2,0,"mat-error",7),c.yc(24,E,4,0,"mat-error",7),c.Pb(),c.Pb(),c.Qb(25,"div",4),c.Qb(26,"mat-form-field",5),c.Qb(27,"mat-label"),c.Ac(28,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),c.Pb(),c.Mb(29,"input",10),c.yc(30,M,2,0,"mat-error",7),c.yc(31,N,4,0,"mat-error",7),c.Pb(),c.Pb(),c.Qb(32,"button",11),c.Xb("click",(function(){return t.submit()})),c.Ac(33,"\u0420\u0415\u0413\u0418\u0421\u0422\u0420\u0410\u0426\u0418\u042f"),c.Pb(),c.Pb()),2&r&&(c.zb(4),c.hc("formGroup",t.form),c.zb(6),c.hc("ngIf",null==t.form||null==t.form.controls||null==t.form.controls.name?null:t.form.controls.name.hasError("required")),c.zb(6),c.hc("ngIf",(null==t.form||null==t.form.controls||null==t.form.controls.email?null:t.form.controls.email.hasError("email"))&&!(null!=t.form&&null!=t.form.controls&&null!=t.form.controls.email&&t.form.controls.email.hasError("required"))),c.zb(1),c.hc("ngIf",null==t.form||null==t.form.controls||null==t.form.controls.email?null:t.form.controls.email.hasError("required")),c.zb(6),c.hc("ngIf",(null==t.form||null==t.form.controls||null==t.form.controls.password?null:t.form.controls.password.hasError("minLength"))&&!(null!=t.form&&null!=t.form.controls&&null!=t.form.controls.password&&t.form.controls.password.hasError("required"))),c.zb(1),c.hc("ngIf",null==t.form||null==t.form.controls||null==t.form.controls.password?null:t.form.controls.password.hasError("required")),c.zb(6),c.hc("ngIf",(null==t.form||null==t.form.controls||null==t.form.controls.password_confirmation?null:t.form.controls.password_confirmation.hasError("minLength"))&&!(null!=t.form&&null!=t.form.controls&&null!=t.form.controls.password_confirmation&&t.form.controls.password_confirmation.hasError("required"))),c.zb(1),c.hc("ngIf",null==t.form||null==t.form.controls||null==t.form.controls.password_confirmation?null:t.form.controls.password_confirmation.hasError("required")),c.zb(1),c.hc("disabled",t.form.invalid||!t.isSamePassword))},directives:[i.f,w.x,w.p,w.h,v.c,v.f,y.a,w.b,w.o,w.g,e.l,v.b],encapsulation:2}),r})();function _(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u044d\u043b\u0435\u043a\u0442\u043e\u0440\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441\u0441 "),c.Pb())}function R(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 "),c.Qb(2,"strong"),c.Ac(3,"\u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0434\u0440\u0435\u0441\u0441"),c.Pb(),c.Pb())}let B=(()=>{class r{constructor(r){this.formBuilder=r,this.sendForm=new c.n,this.initForm()}initForm(){this.form=this.formBuilder.group({email:[null,[w.v.required,w.v.email]]})}submit(){this.sendForm.emit(this.form.value)}}return r.\u0275fac=function(t){return new(t||r)(c.Lb(w.d))},r.\u0275cmp=c.Fb({type:r,selectors:[["app-forgot-password"]],outputs:{sendForm:"sendForm"},decls:14,vars:4,consts:[[1,"title","auth-title"],["routerLink","/auth",1,"back-home"],[1,"bx","bx-left-arrow-alt"],[3,"formGroup"],[1,"mb-2"],["appearance","fill",1,"example-full-width"],["type","email","matInput","","formControlName","email"],[4,"ngIf"],[1,"primary","w-100",3,"disabled","click"]],template:function(r,t){1&r&&(c.Qb(0,"h2",0),c.Qb(1,"a",1),c.Mb(2,"i",2),c.Pb(),c.Ac(3," \u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"),c.Pb(),c.Qb(4,"form",3),c.Qb(5,"div",4),c.Qb(6,"mat-form-field",5),c.Qb(7,"mat-label"),c.Ac(8,"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"),c.Pb(),c.Mb(9,"input",6),c.yc(10,_,2,0,"mat-error",7),c.yc(11,R,4,0,"mat-error",7),c.Pb(),c.Pb(),c.Qb(12,"button",8),c.Xb("click",(function(){return t.submit()})),c.Ac(13,"\u041e\u0422\u041f\u0420\u0410\u0412\u0418\u0422\u042c"),c.Pb(),c.Pb()),2&r&&(c.zb(4),c.hc("formGroup",t.form),c.zb(6),c.hc("ngIf",(null==t.form||null==t.form.controls||null==t.form.controls.email?null:t.form.controls.email.hasError("email"))&&!(null!=t.form&&null!=t.form.controls&&null!=t.form.controls.email&&t.form.controls.email.hasError("required"))),c.zb(1),c.hc("ngIf",null==t.form||null==t.form.controls||null==t.form.controls.email?null:t.form.controls.email.hasError("required")),c.zb(1),c.hc("disabled",t.form.invalid))},directives:[i.f,w.x,w.p,w.h,v.c,v.f,y.a,w.b,w.o,w.g,e.l,v.b],encapsulation:2}),r})();function X(r,t){if(1&r&&(c.Qb(0,"p",12),c.Ac(1),c.Pb()),2&r){const r=c.bc();c.zb(1),c.Bc(r.errorMessageData)}}function G(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0440\u043d\u044b\u0439 \u044d\u043b\u0435\u043a\u0442\u043e\u0440\u043d\u043d\u044b\u0439 \u0430\u0434\u0440\u0435\u0441\u0441 "),c.Pb())}function V(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 "),c.Qb(2,"strong"),c.Ac(3,"\u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0439 \u0430\u0434\u0434\u0440\u0435\u0441\u0441"),c.Pb(),c.Pb())}function j(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c "),c.Pb())}function T(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 "),c.Qb(2,"strong"),c.Ac(3,"\u043f\u0430\u0440\u043e\u043b\u044c"),c.Pb(),c.Pb())}function D(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c "),c.Pb())}function O(r,t){1&r&&(c.Qb(0,"mat-error"),c.Ac(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 "),c.Qb(2,"strong"),c.Ac(3,"\u043f\u0430\u0440\u043e\u043b\u044c"),c.Pb(),c.Pb())}let J=(()=>{class r{constructor(r,t,o,e,n){this.formBuilder=r,this.router=t,this.activeRouter=o,this.authService=e,this.notifier=n,this.request={token:"",type:"reset"},this.sendForm=new c.n,this.errorMessageShow="",this.initForm()}onResetPassword(){const r=this.form.value;r.password===r.password_confirmation&&this.authService.resetPassword(r).subscribe(r=>{this.notifier.success("\u041f\u0430\u0440\u043e\u043b\u044c \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u0431\u0440\u043e\u0448\u0435\u043d."),this.router.navigateByUrl("/auth")},r=>{this.notifier.error("\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430 \u0438\u043b\u0438 \u0442\u043e\u043a\u0435\u043d \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u044b.")})}initForm(){this.form=this.formBuilder.group({email:["",[w.v.required,w.v.email]],password:["",[w.v.required,w.v.minLength(5)]],password_confirmation:["",[w.v.required,w.v.minLength(5)]],reset_token:["",w.v.required]})}ngOnInit(){this.activeRouter.queryParams.subscribe(r=>{r.token&&(this.form.patchValue({reset_token:r.token}),this.request.token=r.token,this.validateToken())})}validateToken(){this.authService.verifyResetToken(this.request).subscribe(r=>{this.form.patchValue({email:r.result.email})},r=>{this.notifier.error("\u041d\u0435\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0438\u043b\u0438 \u0438\u0441\u0442\u0435\u043a\u0448\u0438\u0439 \u0442\u043e\u043a\u0435\u043d.")})}}return r.\u0275fac=function(t){return new(t||r)(c.Lb(w.d),c.Lb(i.c),c.Lb(i.a),c.Lb(l.a),c.Lb(u.a))},r.\u0275cmp=c.Fb({type:r,selectors:[["app-reset-password"]],outputs:{sendForm:"sendForm"},decls:29,vars:9,consts:[[1,"title","auth-title"],["routerLink","/auth",1,"back-home"],[1,"bx","bx-left-arrow-alt"],["autocomplete","disabled",3,"formGroup"],["class","text-danger",4,"ngIf"],[1,"mb-2"],["appearance","fill",1,"example-full-width","w-100"],["type","email","matInput","","formControlName","email","readonly",""],[4,"ngIf"],["type","password","matInput","","formControlName","password"],["type","password","matInput","","formControlName","password_confirmation"],[1,"primary","w-100",3,"disabled","click"],[1,"text-danger"]],template:function(r,t){1&r&&(c.Qb(0,"h2",0),c.Qb(1,"a",1),c.Mb(2,"i",2),c.Pb(),c.Ac(3," \u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"),c.Pb(),c.Qb(4,"form",3),c.yc(5,X,2,1,"p",4),c.Qb(6,"div",5),c.Qb(7,"mat-form-field",6),c.Qb(8,"mat-label"),c.Ac(9,"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"),c.Pb(),c.Mb(10,"input",7),c.yc(11,G,2,0,"mat-error",8),c.yc(12,V,4,0,"mat-error",8),c.Pb(),c.Pb(),c.Qb(13,"div",5),c.Qb(14,"mat-form-field",6),c.Qb(15,"mat-label"),c.Ac(16,"\u041f\u0430\u0440\u043e\u043b\u044c"),c.Pb(),c.Mb(17,"input",9),c.yc(18,j,2,0,"mat-error",8),c.yc(19,T,4,0,"mat-error",8),c.Pb(),c.Pb(),c.Qb(20,"div",5),c.Qb(21,"mat-form-field",6),c.Qb(22,"mat-label"),c.Ac(23,"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u0435 \u043f\u0430\u0440\u043e\u043b\u044c"),c.Pb(),c.Mb(24,"input",10),c.yc(25,D,2,0,"mat-error",8),c.yc(26,O,4,0,"mat-error",8),c.Pb(),c.Pb(),c.Qb(27,"button",11),c.Xb("click",(function(){return t.onResetPassword()})),c.Ac(28,"\u041e\u0411\u041d\u041e\u0412\u041b\u042f\u0422\u042c"),c.Pb(),c.Pb()),2&r&&(c.zb(4),c.hc("formGroup",t.form),c.zb(1),c.hc("ngIf",t.errorMessageShow),c.zb(6),c.hc("ngIf",(null==t.form||null==t.form.controls||null==t.form.controls.email?null:t.form.controls.email.hasError("email"))&&!(null!=t.form&&null!=t.form.controls&&null!=t.form.controls.email&&t.form.controls.email.hasError("required"))),c.zb(1),c.hc("ngIf",null==t.form||null==t.form.controls||null==t.form.controls.email?null:t.form.controls.email.hasError("required")),c.zb(6),c.hc("ngIf",(null==t.form||null==t.form.controls||null==t.form.controls.password?null:t.form.controls.password.hasError("minLength"))&&!(null!=t.form&&null!=t.form.controls&&null!=t.form.controls.password&&t.form.controls.password.hasError("required"))),c.zb(1),c.hc("ngIf",null==t.form||null==t.form.controls||null==t.form.controls.password?null:t.form.controls.password.hasError("required")),c.zb(6),c.hc("ngIf",(null==t.form||null==t.form.controls||null==t.form.controls.password?null:t.form.controls.password.hasError("minLength"))&&!(null!=t.form&&null!=t.form.controls&&null!=t.form.controls.password_confirmation&&t.form.controls.password_confirmation.hasError("required"))),c.zb(1),c.hc("ngIf",null==t.form||null==t.form.controls||null==t.form.controls.password?null:t.form.controls.password.hasError("required")),c.zb(1),c.hc("disabled",t.form.invalid))},directives:[i.f,w.x,w.p,w.h,e.l,v.c,v.f,y.a,w.b,w.o,w.g,v.b],encapsulation:2}),r})();function U(r,t){1&r&&c.Mb(0,"app-signup-success")}function K(r,t){1&r&&c.Mb(0,"app-verify-identity")}function Y(r,t){if(1&r&&(c.Qb(0,"div",2),c.Qb(1,"div",3),c.yc(2,U,1,0,"app-signup-success",4),c.yc(3,K,1,0,"app-verify-identity",4),c.Pb(),c.Pb()),2&r){const r=c.bc();c.zb(1),c.hc("ngSwitch",r.currentFormName),c.zb(1),c.hc("ngSwitchCase","verify-instruction"),c.zb(1),c.hc("ngSwitchCase","verify-email")}}function H(r,t){if(1&r){const r=c.Rb();c.Qb(0,"app-login",12),c.Xb("sendForm",(function(t){return c.pc(r),c.bc(2).login(t)})),c.Pb()}}function W(r,t){if(1&r){const r=c.Rb();c.Qb(0,"app-register",12),c.Xb("sendForm",(function(t){return c.pc(r),c.bc(2).register(t)})),c.Pb()}}function Z(r,t){if(1&r){const r=c.Rb();c.Qb(0,"app-forgot-password",12),c.Xb("sendForm",(function(t){return c.pc(r),c.bc(2).forgotPassword(t)})),c.Pb()}}function $(r,t){1&r&&c.Mb(0,"app-reset-password")}function rr(r,t){if(1&r){const r=c.Rb();c.Qb(0,"button",13),c.Xb("click",(function(){return c.pc(r),c.bc(2).currentFormName="login"})),c.Ac(1,"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f "),c.Pb()}}function tr(r,t){if(1&r){const r=c.Rb();c.Qb(0,"button",13),c.Xb("click",(function(){return c.pc(r),c.bc(2).currentFormName="register"})),c.Ac(1," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f "),c.Pb()}}function or(r,t){if(1&r&&(c.Qb(0,"div",5),c.Mb(1,"div",6),c.Qb(2,"div",7),c.Qb(3,"div",8),c.Qb(4,"div",3),c.yc(5,H,1,0,"app-login",9),c.yc(6,W,1,0,"app-register",9),c.yc(7,Z,1,0,"app-forgot-password",9),c.yc(8,$,1,0,"app-reset-password",4),c.Pb(),c.Qb(9,"div",10),c.yc(10,rr,2,0,"button",11),c.yc(11,tr,2,0,"button",11),c.Pb(),c.Pb(),c.Pb(),c.Pb()),2&r){const r=c.bc();c.zb(4),c.hc("ngSwitch",r.currentFormName),c.zb(1),c.hc("ngSwitchCase","login"),c.zb(1),c.hc("ngSwitchCase","register"),c.zb(1),c.hc("ngSwitchCase","forgot-password"),c.zb(1),c.hc("ngSwitchCase","reset-password"),c.zb(2),c.hc("ngIf","login"!==r.currentFormName),c.zb(1),c.hc("ngIf","register"!==r.currentFormName)}}let er=(()=>{class r{constructor(r,t,o){this.authService=r,this.notificationService=t,this.router=o,this.currentFormName=s.login,this.withoutPoster=!1,this.router.url.includes("forgot-password")&&(this.currentFormName="forgot-password"),this.router.url.includes("reset-password")&&(this.currentFormName="reset-password"),this.router.url.includes("reset-password")&&(this.currentFormName="reset-password"),this.router.url.includes("verify-instruction")&&(this.withoutPoster=!0,this.currentFormName="verify-instruction"),this.router.url.includes("verify-email")&&(this.withoutPoster=!0,this.currentFormName="verify-email")}login(r){this.authService.login(r,{include:["user.roles","user.student"]}).pipe(Object(a.a)()).subscribe(t=>{t&&(t.success&&!t.email_verified?this.router.navigate(["/auth/verify-instruction"],{queryParams:{q:r.email}}):(this.authService.setLocalData(t),this.notificationService.success("\u0412\u044b \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u044b")))})}register(r){this.authService.studentRegister(r,{include:["user.student","user.roles"]}).subscribe(t=>{this.router.navigate(["/auth/verify-instruction"],{queryParams:{q:r.email}})})}forgotPassword(r){this.authService.forgotPassword(r).subscribe(r=>{this.router.navigate(["/auth"]),this.notificationService.success("\u0412\u0441\u043a\u043e\u0440\u0435 \u0432\u044b \u0434\u043e\u043b\u0436\u043d\u044b \u043f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e \u0441 \u043f\u0440\u043e\u0441\u044c\u0431\u043e\u0439 \u0441\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c."),this.authService.setLocalData(r.data)})}}return r.\u0275fac=function(t){return new(t||r)(c.Lb(l.a),c.Lb(u.a),c.Lb(i.c))},r.\u0275cmp=c.Fb({type:r,selectors:[["app-auth"]],decls:3,vars:2,consts:[["class","auth-body",4,"ngIf","ngIfElse"],["auth",""],[1,"auth-body"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"d-flex"],[1,"auth-image"],[1,"auth-block"],[1,"auth-form"],[3,"sendForm",4,"ngSwitchCase"],[1,"additional-buttons"],["class","secondary fs-6 px-4",3,"click",4,"ngIf"],[3,"sendForm"],[1,"secondary","fs-6","px-4",3,"click"]],template:function(r,t){if(1&r&&(c.yc(0,Y,4,3,"div",0),c.yc(1,or,12,7,"ng-template",null,1,c.zc)),2&r){const r=c.nc(2);c.hc("ngIf",t.withoutPoster)("ngIfElse",r)}},directives:[e.l,e.m,e.n,b,g,k,C,B,J],styles:[".auth-body{background-color:#edf2f7;height:100%;display:flex;align-items:center;justify-content:center}.auth-body .verify-card{box-shadow:0 0 5px 3px #d2d2d2!important;background:#fff;max-width:650px;border-radius:10px;width:100%;overflow:hidden}.auth-body .verify-card .icon-container img{width:140px}.auth-body .verify-card .verify-content{font-size:16px}.auth-body .verify-card .verify-action{color:#ffc627;width:-moz-fit-content;width:fit-content}.auth-body .verify-card .resend{background:#eff3f6}.auth-body .verify-card .resend .resend-btn{background:#e3e7ea;height:100%;width:80px;display:flex;align-items:center;justify-content:center;cursor:pointer}.auth-body .verify-card .resend .resend-btn img{width:24px}.auth-title{padding-left:50px}.back-home{font-size:45px;position:absolute;color:#ffc627;left:0;top:-5px}.auth-image{background-image:url(auth.4e8dfc5184ea0dedd8ac.jpg);background-position:50%;background-repeat:no-repeat;background-size:cover;width:50%}@media screen and (max-width:992px){.auth-image{display:none}}.auth-block{width:50%;display:flex;align-items:center;justify-content:center;position:relative;height:100vh;min-height:600px}@media screen and (max-width:992px){.auth-block{width:100%}}.auth-block .auth-form{width:100%;max-width:500px;padding:30px}.auth-block .auth-form .additional-buttons{display:flex;margin-top:20px;justify-content:space-between}.spinner-container{width:140px}.spinner-container .verify-spinner{width:50px;height:50px;border-width:.5em}.resend-spinner{width:20px;height:20px}"],encapsulation:2}),r})();const nr=[{path:"",component:er},{path:"forgot-password",component:er},{path:"reset-password",component:er},{path:"verify-instruction",component:er},{path:"verify-email",component:er}];let ir=(()=>{class r{}return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(t){return new(t||r)},imports:[[i.g.forChild(nr)],i.g]}),r})(),sr=(()=>{class r{}return r.\u0275mod=c.Jb({type:r}),r.\u0275inj=c.Ib({factory:function(t){return new(t||r)},imports:[[e.c,ir,n.a]]}),r})()}}]);